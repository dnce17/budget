<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
        <link href="/static/styles.css" rel="stylesheet">
        <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/4.0.1/socket.io.js" integrity="sha512-q/dWJ3kcmjBLU4Qc47E4A9kTB4m3wuTY7vkFJDTZKjTs8jhyGQnaUrxa0Ytd0ssMZhbNua9hE+E7Qv1j+DyZwA==" crossorigin="anonymous"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/4.4.0/chart.umd.js" integrity="sha512-6HrPqAvK+lZElIZ4mZ64fyxIBTsaX5zAFZg2V/2WT+iKPrFzTzvx6QAsLW2OaLwobhMYBog/+bvmIEEGXi0p1w==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
        <script src="static/helpers.js"></script>
        <script src="static/socket.js"></script>
        <script src="static/plugins/chartjs-plugin-doughnutlabel.js"></script>
        <title>Budget Your Money: {% block title %}{% endblock %}</title>
    </head>
    <body>
        <nav class="navbar navbar-expand-lg">
            <div class="container-fluid">
              <a class="navbar-brand" href="#">
                <img class="logo" src="static/img/placeholder-logo.png">
              </a>
              <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
              </button>
              <div class="collapse navbar-collapse" id="navbarNavAltMarkup">
                {% if session["user_id"] %}
                  <div class="navbar-nav">
                    <a class="nav-link" aria-current="page" href="/">Money Allocation</a>
                    <a class="nav-link" href="/monthly">Monthly Budget</a>
                    <a class="nav-link" href="/transaction">Add Cash/Transaction</a>
                    <a class="nav-link" href="/history">History</a>
                  </div>
                  <div class="navbar-nav ms-auto">
                    <!-- <a class="nav-link username" href="#">{{ username }}</a> -->
                    <a class="nav-link username" href="#">{{ session["username"] }}</a>
                    <!-- <a class="nav-link balance" href="#">Balance: <span class="balance-amt">{{ balance }}</span></a> -->
                    <a class="nav-link balance" href="#">Balance: <span class="balance-amt">{{ session["balance"] }}</span></a>
                    <a class="nav-link" href="/logout">Logout</a>
                </div>
                {% else %}
                  <div class="navbar-nav ms-auto">
                      <a class="nav-link" href="/register">Register</a>
                      <a class="nav-link" href="/login">Login</a>
                  </div>
                {% endif %}
              </div>
            </div>
        </nav>
        <main class="m-top">
          {% block main %}{% endblock %}
        </main>
        {% block js %}{% endblock %}
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.4/jquery.min.js"></script>
    </body>
</html>

<!-- Credits -->
<!-- https://github.com/chartjs/Chart.js/issues/10881, chart.min.js leads to import error while chart.umd.js does not--> 
<!-- https://levelup.gitconnected.com/script-tags-do-they-belong-in-the-body-or-the-head-section-be5733e38347 -->
    <!-- For scripts that are critical to the page contents and should be loaded first such as analytics, API, or authentication-type of scripts, it is recommended to place them in the head section of the HTML page. And other script tags should be placed at the bottom of the page before the closing </body> tag. -->
    <!-- Charts is something you want loaded first -->